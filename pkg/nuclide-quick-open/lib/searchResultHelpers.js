Object.defineProperty(exports, '__esModule', {
  value: true
});

/*
 * Copyright (c) 2015-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the license found in the LICENSE file in
 * the root directory of this source tree.
 */

exports.filterEmptyResults = filterEmptyResults;
exports.flattenResults = flattenResults;

var isEmpty = require('../../nuclide-commons').object.isEmpty;

function filterEmptyResults(resultsGroupedByService) {
  var filteredTree = {};

  for (var serviceName in resultsGroupedByService) {
    var directories = resultsGroupedByService[serviceName].results;
    var nonEmptyDirectories = {};
    for (var dirName in directories) {
      if (directories[dirName].results.length) {
        nonEmptyDirectories[dirName] = directories[dirName];
      }
    }
    if (!isEmpty(nonEmptyDirectories)) {
      filteredTree[serviceName] = { results: nonEmptyDirectories };
    }
  }
  return filteredTree;
}

function flattenResults(resultsGroupedByService) {
  var items = [];
  for (var serviceName in resultsGroupedByService) {
    for (var dirName in resultsGroupedByService[serviceName].results) {
      items.push(resultsGroupedByService[serviceName].results[dirName].results);
    }
  }
  return Array.prototype.concat.apply([], items);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlYXJjaFJlc3VsdEhlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0lBaUJFLE9BQU8sR0FDTCxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxNQUFNLENBRHpDLE9BQU87O0FBR0YsU0FBUyxrQkFBa0IsQ0FBQyx1QkFBc0MsRUFBaUI7QUFDeEYsTUFBTSxZQUFZLEdBQUcsRUFBRSxDQUFDOztBQUV4QixPQUFLLElBQU0sV0FBVyxJQUFJLHVCQUF1QixFQUFFO0FBQ2pELFFBQU0sV0FBVyxHQUFHLHVCQUF1QixDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQztBQUNqRSxRQUFNLG1CQUFtQixHQUFHLEVBQUUsQ0FBQztBQUMvQixTQUFLLElBQU0sT0FBTyxJQUFJLFdBQVcsRUFBRTtBQUNqQyxVQUFJLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLDJCQUFtQixDQUFDLE9BQU8sQ0FBQyxHQUFHLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztPQUNyRDtLQUNGO0FBQ0QsUUFBSSxDQUFDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFO0FBQ2pDLGtCQUFZLENBQUMsV0FBVyxDQUFDLEdBQUcsRUFBQyxPQUFPLEVBQUUsbUJBQW1CLEVBQUMsQ0FBQztLQUM1RDtHQUNGO0FBQ0QsU0FBTyxZQUFZLENBQUM7Q0FDckI7O0FBRU0sU0FBUyxjQUFjLENBQUMsdUJBQXNDLEVBQXFCO0FBQ3hGLE1BQU0sS0FBSyxHQUFHLEVBQUUsQ0FBQztBQUNqQixPQUFLLElBQU0sV0FBVyxJQUFJLHVCQUF1QixFQUFFO0FBQ2pELFNBQUssSUFBTSxPQUFPLElBQUksdUJBQXVCLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxFQUFFO0FBQ2xFLFdBQUssQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0tBQzNFO0dBQ0Y7QUFDRCxTQUFPLEtBQUssQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUM7Q0FDaEQiLCJmaWxlIjoic2VhcmNoUmVzdWx0SGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB0eXBlIHtcbiAgRmlsZVJlc3VsdCxcbiAgR3JvdXBlZFJlc3VsdCxcbn0gZnJvbSAnLi4vLi4vbnVjbGlkZS1xdWljay1vcGVuLWludGVyZmFjZXMnO1xuXG5jb25zdCB7XG4gIGlzRW1wdHksXG59ID0gcmVxdWlyZSgnLi4vLi4vbnVjbGlkZS1jb21tb25zJykub2JqZWN0O1xuXG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyRW1wdHlSZXN1bHRzKHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlOiBHcm91cGVkUmVzdWx0KTogR3JvdXBlZFJlc3VsdCB7XG4gIGNvbnN0IGZpbHRlcmVkVHJlZSA9IHt9O1xuXG4gIGZvciAoY29uc3Qgc2VydmljZU5hbWUgaW4gcmVzdWx0c0dyb3VwZWRCeVNlcnZpY2UpIHtcbiAgICBjb25zdCBkaXJlY3RvcmllcyA9IHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlW3NlcnZpY2VOYW1lXS5yZXN1bHRzO1xuICAgIGNvbnN0IG5vbkVtcHR5RGlyZWN0b3JpZXMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGRpck5hbWUgaW4gZGlyZWN0b3JpZXMpIHtcbiAgICAgIGlmIChkaXJlY3Rvcmllc1tkaXJOYW1lXS5yZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICBub25FbXB0eURpcmVjdG9yaWVzW2Rpck5hbWVdID0gZGlyZWN0b3JpZXNbZGlyTmFtZV07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghaXNFbXB0eShub25FbXB0eURpcmVjdG9yaWVzKSkge1xuICAgICAgZmlsdGVyZWRUcmVlW3NlcnZpY2VOYW1lXSA9IHtyZXN1bHRzOiBub25FbXB0eURpcmVjdG9yaWVzfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbHRlcmVkVHJlZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5SZXN1bHRzKHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlOiBHcm91cGVkUmVzdWx0KTogQXJyYXk8RmlsZVJlc3VsdD4ge1xuICBjb25zdCBpdGVtcyA9IFtdO1xuICBmb3IgKGNvbnN0IHNlcnZpY2VOYW1lIGluIHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlKSB7XG4gICAgZm9yIChjb25zdCBkaXJOYW1lIGluIHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlW3NlcnZpY2VOYW1lXS5yZXN1bHRzKSB7XG4gICAgICBpdGVtcy5wdXNoKHJlc3VsdHNHcm91cGVkQnlTZXJ2aWNlW3NlcnZpY2VOYW1lXS5yZXN1bHRzW2Rpck5hbWVdLnJlc3VsdHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgaXRlbXMpO1xufVxuIl19